Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&t.nodeType===Node.ELEMENT_NODE);return null});!function(e,t){"use strict";if("function"!=typeof e.ResizeObserver){var n=function(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseInt(t.getPropertyValue("padding-top")),r=parseInt(t.getPropertyValue("padding-right")),i=parseInt(t.getPropertyValue("padding-bottom")),o=parseInt(t.getPropertyValue("padding-left")),a={x:o,y:n,width:e.clientWidth-o-r,height:e.clientHeight-n-i};for(var s in a.left=a.x,a.top=a.y,a.right=a.left+a.width,a.bottom=a.top+a.height,a)Object.defineProperty(this,s,{value:a[s],writable:!1,enumerable:!0,configurable:!1})};n.prototype={constructor:n};var r=function(e){Object.defineProperty(this,"target",{value:e,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(this,"contentRect",{value:new n(e),writable:!1,enumerable:!0,configurable:!1})};r.prototype={constructor:r};var i=function(e){if(!(this instanceof i))throw"Failed to construct 'ResizeObserver': Please use the 'new' operator, this DOM object constructor cannot be called as a function.";if(void 0===e)throw"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.";if("function"!=typeof e)throw"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element'.";this._callback=e,this._observables=[],this._boundIntervalHandler=this._intervalHandler.bind(this),this._interval=null};i.prototype={constructor:i,observe:function(e){if(!(e instanceof Element))throw"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element'.";if(!this._observables.some(function(t){return t.target===e})){var t=new r(e);this._observables.push(t)}this._interval||(this._interval=this._boundIntervalHandler())},unobserve:function(e){this._observables=this._observables.filter(function(t){return t.target!==e}),this._observables.length||this.disconnect()},disconnect:function(){e.clearInterval(this._interval),this._interval=null,this._observables=[]},_intervalHandler:function(){var t=this._observables,n=t.map(function(e,n){var i=new r(e.target);return e.contentRect.height===i.contentRect.height&&e.contentRect.width===i.contentRect.width?null:(t[n]=i,i)}).filter(function(e){return null!==e});return n.length>0&&this._callback(n),this._interval=e.requestAnimationFrame(this._boundIntervalHandler),this._interval}},e.ResizeObserver=i}}(window,document);!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document,e=[],n=null,o=null;r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r._setupCrossOriginUpdater=function(){return n||(n=function(t,n){o=t&&n?a(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach(function(t){t._checkForIntersections()})}),n},r._resetCrossOriginUpdater=function(){n=null,o=null},r.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},r.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},r.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},r.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},r.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var o=this._checkForIntersections,i=null,r=null;if(this.POLL_INTERVAL?i=n.setInterval(o,this.POLL_INTERVAL):(s(n,"resize",o,!0),s(e,"scroll",o,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(r=new n.MutationObserver(o)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push(function(){var t=e.defaultView;t&&(i&&t.clearInterval(i),h(t,"resize",o,!0)),h(e,"scroll",o,!0),r&&r.disconnect()}),e!=(this.root&&this.root.ownerDocument||t)){var c=p(e);c&&this._monitorIntersections(c.ownerDocument)}}},r.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var o=this.root&&this.root.ownerDocument||t;if(!this._observationTargets.some(function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=o;){var i=p(n);if((n=i&&i.ownerDocument)==e)return!0}return!1})){var i=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),i(),e!=o){var r=p(e);r&&this._unmonitorIntersections(r.ownerDocument)}}}},r.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},r.prototype._checkForIntersections=function(){if(this.root||!n||o){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var r=o.element,s=c(r),h=this._rootContainsTarget(r),u=o.entry,a=t&&h&&this._computeTargetAndRootIntersection(r,s,e),l=o.entry=new i({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:n&&!this.root?null:e,intersectionRect:a});u?t&&h?this._hasCrossedThreshold(u,l)&&this._queuedEntries.push(l):u&&u.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},r.prototype._computeTargetAndRootIntersection=function(e,i,r){if("none"!=window.getComputedStyle(e).display){for(var s,h,u,l,p,d,g,m,v=i,_=f(e),b=!1;!b&&_;){var w=null,y=1==_.nodeType?window.getComputedStyle(_):{};if("none"==y.display)return null;if(_==this.root||9==_.nodeType)if(b=!0,_==this.root||_==t)n&&!this.root?!o||0==o.width&&0==o.height?(_=null,w=null,v=null):w=o:w=r;else{var I=f(_),E=I&&c(I),T=I&&this._computeTargetAndRootIntersection(I,E,r);E&&T?(_=I,w=a(E,T)):(_=null,v=null)}else{var R=_.ownerDocument;_!=R.body&&_!=R.documentElement&&"visible"!=y.overflow&&(w=c(_))}if(w&&(s=w,h=v,void 0,void 0,void 0,void 0,void 0,void 0,u=Math.max(s.top,h.top),l=Math.min(s.bottom,h.bottom),p=Math.max(s.left,h.left),d=Math.min(s.right,h.right),m=l-u,v=(g=d-p)>=0&&m>=0&&{top:u,bottom:l,left:p,right:d,width:g,height:m}||null),!v)break;_=_&&f(_)}return v}},r.prototype._getRootRect=function(){var e;if(this.root)e=c(this.root);else{var n=t.documentElement,o=t.body;e={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(e)},r.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},r.prototype._rootIsInDom=function(){return!this.root||l(t,this.root)},r.prototype._rootContainsTarget=function(e){return l(this.root||t,e)&&(!this.root||this.root.ownerDocument==e.ownerDocument)},r.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},r.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=r,window.IntersectionObserverEntry=i}function i(t){this.time=t.time,this.target=t.target,this.rootBounds=u(t.rootBounds),this.boundingClientRect=u(t.boundingClientRect),this.intersectionRect=u(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function r(t,e){var n,o,i,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout(function(){n(),i=null},o))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function h(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function c(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function a(t,e){var n=e.top-t.top,o=e.left-t.left;return{top:n,left:o,height:e.height,width:e.width,bottom:n+e.height,right:o+e.width}}function l(t,e){for(var n=e;n;){if(n==t)return!0;n=f(n)}return!1}function f(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?p(e):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}function p(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}}();document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll('[data-op3-element-type="video"] .op3-video-magic-overlay .op3-video-magic-overlay-image');if(e.length>0)for(var t=0;t<e.length;t++){var o=(e[t].currentStyle||window.getComputedStyle(e[t],!1)).backgroundImage.slice(4,-1).replace(/"/g,""),n=new Image;n.src=o,function(t,o){o.onload=function(){e[t].style.maxWidth=o.width+"px",e[t].style.maxHeight=o.height+"px"}}(t,n)}});!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.OptimizeLazyLoader=e()}("undefined"!=typeof self?self:this,function(){"use strict";var t=function(e){if(!(this instanceof t))throw"OptimizeLazyLoader: OptimizeLazyLoader is a constructor.";this._init.apply(this,arguments)};return t.prototype={constructor:t,_defaultOptions:{context:document,useNative:!0,prefix:"oll",tags:"img,picture,video,audio,iframe",attrs:"src,srcset",threshold:256},_init:function(t){for(var e in this._options={},this._defaultOptions)this._options[e]=t&&e in t?t[e]:this._defaultOptions[e];this._mutationObserver=null,this._intersectionObserver=null},destroy:function(){this.stop(),delete this._intersectionObserver,delete this._mutationObserver,delete this._options},get supported(){return"IntersectionObserver"in window},get status(){return!!this._intersectionObserver},getOption:function(t){var e=this._options[t];return"function"==typeof e&&(e=e.apply(this)),e},start:function(){if(!this.status){if(!this.supported)return this.preloadAll();var t,e,i=this._getContext();"function"==typeof IntersectionObserver&&(t=this._handleIntersectionObserver.bind(this),e={root:null,rootMargin:(1*this.getOption("threshold")||0)+"px",threshold:1e-6},this._intersectionObserver=new IntersectionObserver(t,e),this._prepare(i)),"function"==typeof MutationObserver&&(t=this._handleMutationObserver.bind(this),e={attributes:!1,childList:!0,subtree:!0},this._mutationObserver=new MutationObserver(t),this._mutationObserver.observe(i,e))}},stop:function(){this.status&&(this._unprepare(this._getContext()),this._intersectionObserver&&this._intersectionObserver.disconnect(),this._mutationObserver&&this._mutationObserver.disconnect(),this._intersectionObserver=null,this._mutationObserver=null)},preload:function(t){var e=this.getOption("prefix");this._matches(t,"."+e+",."+e+"-css")&&(this._matches(t,"."+e)&&(this._getElementsWithSrcAttrs(t).forEach(function(t){this.getOption("attrs").split(",").forEach(function(i){var s=this._stringTrim(i),r="data-"+e+"-"+s,n=t.getAttribute(r);null!==n&&(t.removeAttribute(r),t.setAttribute(s,n))}.bind(this))}.bind(this)),"function"==typeof t.load&&t.load()),this._matches(t,"."+e+"-css")&&this._removeClass(t,e+"-css"),this._unprepare(t))},preloadAll:function(){this.stop(),this._getElements().forEach(function(t){this.preload(t)}.bind(this))},_getContext:function(t){return t||this.getOption("context")||document},_stringTrim:function(t){return t.replace(/(^\s+|\s+$)/g,"")},_toArray:function(t){return Array.prototype.slice.call(t)},_matches:function(t,e){return(t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector).call(t,e)},_removeClass:function(t,e){var i=(t.getAttribute("class")||"").replace(/\s+/g," ").replace(/(^\s|\s$)/g,"").split(" "),s=i.indexOf(e);-1!==s&&(i.splice(s,1),t.setAttribute("class",i.join(" ")))},_getElements:function(t){var e=[];if(!((t=this._getContext(t))instanceof Node&&"querySelectorAll"in t))return e;var i=this.getOption("tags"),s=this.getOption("prefix"),r=(i.split(",").join(".{prefix},")+".{prefix},.{prefix}-css").replace(/{prefix}/g,s);return e=t.querySelectorAll(r),e=this._toArray(e),t.nodeType===Node.ELEMENT_NODE&&this._matches(t,r)&&e.unshift(t),e},_getElementsWithSrcAttrs:function(t){var e=[];if(!((t=this._getContext(t))instanceof Node&&"querySelectorAll"in t))return e;var i=this.getOption("prefix"),s=this.getOption("attrs"),r="["+s.split(",").map(function(t){return"data-"+i+"-"+this._stringTrim(t)}.bind(this)).join("],[")+"]";return e=t.querySelectorAll(r),e=this._toArray(e),this._matches(t,"img")&&this._matches(t.parentElement,"picture")&&-1!==s.split(/\s*,\s*/).indexOf("srcset")&&(e=e.concat(this._toArray(t.parentElement.querySelectorAll("source[data-"+i+"-srcset]")))),this._matches(t,r)&&e.unshift(t),e},_prepare:function(t){var e=this.getOption("prefix"),i=this.getOption("useNative");this._getElements(t).forEach(function(t){var s=this._matches(t,"."+e),r=this._matches(t,"."+e+"-css"),n=!1;s&&(i&&"loading"in t?(t.setAttribute("loading","lazy"),this.preload(t)):n=!0),r&&(n=!0),n&&this._intersectionObserver.observe(t)}.bind(this))},_unprepare:function(t){this._getElements(t).forEach(function(t){this._intersectionObserver&&this._intersectionObserver.unobserve(t),this._removeClass(t,this.getOption("prefix"))}.bind(this))},_handleMutationObserver:function(t){this.status&&t.forEach(function(t){"childList"===t.type&&(t.addedNodes.forEach(function(t){this._prepare(t)}.bind(this)),t.removedNodes.forEach(function(t){this._unprepare(t)}.bind(this)))}.bind(this))},_handleIntersectionObserver:function(t){t.forEach(function(t){(t.intersectionRatio>0||t.isIntersecting)&&this.preload(t.target)}.bind(this))}},t});window.addEventListener("DOMContentLoaded",function(t){var e={useNative:OP3.Settings&&OP3.Settings.lazyLoadAssets&&"native+js"===OP3.Settings.lazyLoadAssets};new OptimizeLazyLoader(e).start()});!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.EmbedVideoFacade=t()}("undefined"!=typeof self?self:this,function(){"use strict";var e=[];function t(e,n){if(!(this instanceof t))throw"EmbedVideoFacade: EmbedVideoFacade is a constructor.";this._init.apply(this,arguments)}t.prototype={constructor:t,_defaultOptions:{srcAttr:"data-src",addPoster:"auto",posterElement:null,interactStyle:"cursor: pointer;",interactElement:null,lazyLoad:!1,lazyLoadThreshold:256,isDevice:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),canUseWebp:!1,canUseAvif:!1},_init:function(e,t){if(!(e instanceof HTMLElement))throw"EmbedVideoFacade: element argument must be of HTMLElement type.";if(this._element=e,this.element.classList.add("embed-video-facade"),this._setStatus("pending"),"object"!=typeof(t||{}))throw"EmbedVideoFacade: element argument must be of Object type.";for(var n in this._options={},this._defaultOptions)this._options[n]=t&&n in t?t[n]:this._defaultOptions[n];var i="["+this.getOption("srcAttr")+"]",r=this.element.querySelectorAll(i);r=Array.prototype.slice.call(r),this.element.matches(i)&&r.unshift(this.element),r.forEach(function(e){var t=e.getAttribute("src");t&&"about:blank"!==t&&e.setAttribute("src","")}),this._nodes=r,this._url=this.element.getAttribute(this.getOption("srcAttr")),this._source=null,this._poster=null,this._posterElement=null,this._interactElement=null,this._boundHandleElementLoad=this._handleElementLoad.bind(this),this._boundHandleElementPointerover=this._handleElementPointerover.bind(this),this._boundHandleElementClick=this._handleElementClick.bind(this),this._boundHandleIntersectionObserver=this._handleIntersectionObserver.bind(this),this._intersectionObserver=null,"function"==typeof IntersectionObserver&&this.getOption("lazyLoad")&&(this._intersectionObserver=new IntersectionObserver(this._boundHandleIntersectionObserver,{root:null,rootMargin:(1*this.getOption("lazyLoadThreshold")||0)+"px",threshold:0}));var s=this._iframeProps(this.element);s&&!s.crossdomain&&"complete"!==s.readyState?this._bind(this.element,"load",this._boundHandleElementLoad):this._boundHandleElementLoad()},destroy:function(){this._intersectionObserver&&this._intersectionObserver.disconnect(),this._unbind(this._interactElement,"click",this._boundHandleElementClick),this._unbind(this._interactElement,"pointerover",this._boundHandleElementPointerover),this._unbind(this.element,"load",this._boundHandleElementLoad);var e="embed-video-facade";this.getOption("interactElement").classList.remove(e+"-interact"),this._posterElement.classList.remove(e+"-poster"),this.element.classList.remove(e),this.element.removeAttribute("data-"+e+"-source"),this.element.removeAttribute("data-"+e+"-status"),delete this._boundHandleIntersectionObserver,delete this._boundHandleElementClick,delete this._boundHandleElementPointerover,delete this._boundHandleElementLoad,delete this._interactElement,delete this._posterElement,delete this._poster,delete this._source,delete this._url,delete this._nodes,delete this._options,delete this._element,this._trigger("destroy")},_call:function(e){if("function"==typeof e){var t=Array.prototype.slice.call(arguments,1);e.apply(this,t)}},_prepare:function(){this._prepareElement(),this._prepareSource(),this._preparePoster(),this._prepareInteract(),this._unbind(this.element,"load",this._boundHandleElementLoad),this._trigger("init");var e=this._iframeProps(this.element);!!e&&e.hasCachedContent&&this.connect()},_prepareElement:function(){this._setStatus("idle")},_prepareSource:function(){e.forEach(function(e){if(!this._source){var t=new e(this);t.test()&&(this._source=t)}}.bind(this)),this.element.setAttribute("data-embed-video-facade-source",this.source||"")},_replacePoster:function(){var e=this.getOption("posterElement");if(e.classList.contains("oll-css"))return!1;var t=this.getOption("addPoster"),n=this._computedStyle(e,"background-image");return"auto"===t&&!(n&&"none"!==n)||"auto"!==t&&t},_preparePoster:function(){var e=this.getOption("posterElement");e.classList.add("embed-video-facade-poster"),this._posterElement=e,this._source&&this._replacePoster()&&this._source.getPoster(function(e){this._poster=e,e&&this._intersectionObserver?this._applyPosterLazy(e):e&&this._applyPoster(e)}.bind(this))},_applyPoster:function(e){var t=this.getOption("posterElement"),n=this._source.posterStyle();n&&this._applyStyle(t,n),t.style.backgroundImage="url("+e+")",this._poster=e,this._loadImage(e,function(e){this._trigger(e?"posterload":"postererror")})},_applyPosterLazy:function(e){var t=this.getOption("posterElement");t.setAttribute("data-embed-video-facade-poster-src",e),this._intersectionObserver.observe(t)},_prepareInteract:function(){var e=this.getOption("interactElement");e.classList.add("embed-video-facade-interact");var t=this._iframeProps(e),n=!!t&&t.hasEmptyContent,i=!!t&&t.hasCachedContent;n&&(e=e.contentDocument);var r=this.getOption("interactStyle");this._applyStyle(n?e.documentElement:e,r),n&&(e.documentElement.style.height="100%",e.documentElement.style.background="transparent"),i||(this._bind(e,"pointerover",this._boundHandleElementPointerover),this._bind(e,"click",this._boundHandleElementClick)),this._interactElement=e},_loadImage:function(e,t){if(e instanceof Image)return e.complete&&0!==e.naturalHeight?this._call(t,e):e.complete?this._call(t,null):(e.addEventListener("load",function(e){e.target.naturalHeight?this._call(t,e.target):this._call(t,null)}.bind(this)),e.addEventListener("error",function(e){this._call(t,null)}.bind(this))),e;if("string"==typeof e){var n=new Image;return n.src=e,n.complete&&0!==n.naturalHeight?this._call(t,n):e.complete?this._call(t,null):this._loadImage(n,t),n}return null},_bind:function(e,t,n){e.addEventListener(t,n)},_unbind:function(e,t,n){e.removeEventListener(t,n)},_trigger:function(e){var t;return e="embedvideofacade"+e,"function"!=typeof Event?(t=this.document.createEvent("Event")).initEvent(e,!1,!1):t=new Event(e),this.element.dispatchEvent(t),t},_setStatus:function(e){this.element.setAttribute("data-embed-video-facade-status",e)},getOption:function(e){var t=this._options[e];return"function"==typeof t&&(t=t.apply(this)),!/Element$/.test(e)||t instanceof HTMLElement||(t=this.element),t},preconnect:function(){this._source&&"preconnected"!==this.status&&"connected"!==this.status&&(this._source.preconnect(),this._unbind(this._interactElement,"pointerover",this._boundHandleElementPointerover),this._setStatus("preconnected"),this._trigger("preconnect"))},connect:function(){if(this._source&&"connected"!==this.status){var e=this.getOption("srcAttr"),t=this._source.url();this._nodes.forEach(function(n){var i=t||n.getAttribute(e);n.removeAttribute(e),n.setAttribute("src",i)}),this._unbind(this._interactElement,"click",this._boundHandleElementClick),this._unbind(this._interactElement,"pointerover",this._boundHandleElementPointerover),this._setStatus("connected"),this._trigger("connect")}},get window(){return this.document.defaultView},get document(){return this.element.ownerDocument},get element(){return this._element},get status(){return this.element.getAttribute("data-embed-video-facade-status")},get url(){return this._url},get source(){return this._source?this._source.name:null},get videoId(){return this._source?this._source.videoId():null},get poster(){return this._poster},get width(){return this._source?this._source.width():null},get height(){return this._source?this._source.height():null},_computedStyle:function(e,t){return e.ownerDocument.defaultView.getComputedStyle(e).getPropertyValue(t)},_applyStyle:function(e,t){var n=this.document.createElement("div");n.setAttribute("style",t);for(var i=0;i<n.style.length;i++){var r=n.style[i],s=n.style.getPropertyValue(r);e.style.setProperty(r,s)}},_isDisabled:function(e){return!!e.closest(".embed-video-facade-disabled")},_iframeProps:function(e){if(!e.matches("iframe"))return null;var t=e.src,n=!t||"about:blank"===t,i=!e.contentDocument;return{hasEmptySrc:n,crossorigin:i,readyState:i?null:e.contentDocument.readyState,hasEmptyContent:n&&!i,hasCachedContent:n&&i}},_handleElementLoad:function(e){this._prepare()},_handleElementPointerover:function(e){this._isDisabled(e.target)||this.preconnect()},_handleElementClick:function(e){this._isDisabled(e.target)||this.connect()},_handleIntersectionObserver:function(e){e.forEach(function(e){if(e.intersectionRatio>0||e.isIntersecting){var t=e.target,n="data-embed-video-facade-poster-src",i=t.getAttribute(n);t.removeAttribute(n),this._intersectionObserver.unobserve(t),this._intersectionObserver.disconnect(),this._intersectionObserver=null,this._applyPoster(i)}}.bind(this))}};var n=function(e){this._init.apply(this,arguments)};return n.prototype={constructor:n,_init:function(e){this._parent=e},destroy:function(){delete this._parent},get parent(){return this._parent},get name(){return"unknown"},get isDevice(){return!!this.parent.getOption("isDevice")},get canUseWebp(){return!!this.parent.getOption("canUseWebp")},get canUseAvif(){return!!this.parent.getOption("canUseAvif")},_call:function(e){this.parent._call.apply(this,arguments)},_preconnect:function(e){var t='link[rel="preconnect"][href="'+e+'"]';if(!document.head.querySelector(t)){var n=document.createElement("link");n.rel="preconnect",n.href=e,n.crossorigin=!0,document.head.appendChild(n)}},_replaceUrlParam:function(e,t,n){var i=new RegExp("([?&])("+t+")=(.*?)(&|$)"),r=e.replace(i,"$1$2="+n+"$4");return i.test(r)||(r+=(-1===r.indexOf("?")?"?":"&")+t+"="+n),r},test:function(){return!1},url:function(){return null},videoId:function(){return null},getPoster:function(e){this._call(e,null)},posterStyle:function(){return"background: center / contain no-repeat none #000"},preconnect:function(){},width:function(){return this.parent.element.getAttribute("width")||"320"},height:function(){return this.parent.element.getAttribute("height")||"240"}},t.registerSource=function(t,i){var r=function(e){n.apply(this,arguments)};for(var s in r.prototype=Object.create(n.prototype),Object.defineProperty(r.prototype,"name",{value:t,writable:!1}),i){var o=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(r.prototype,s,o)}r.prototype.constructor=r,e.push(r)},t});EmbedVideoFacade.registerSource("vimeo",{test:function(){return/https?\:\/\/player\.vimeo\.com\/video\/[\d]+/.test(this.parent.url)},url:function(){var e=this.parent.url;return e=this._replaceUrlParam(e,"autoplay","1"),this.isDevice&&(e=this._replaceUrlParam(e,"muted","1")),e},videoId:function(){return this.parent.url.match(/https?\:\/\/player\.vimeo\.com\/video\/([\d]+)/)[1]},getPoster:function(e){var t=(this.canUseWebp?"https://lite-vimeo-embed.vercel.app/thumb/{videoId}.webp?mw={width}&mh={height}&q=85":"https://lite-vimeo-embed.vercel.app/thumb/{videoId}.jpg?mw={width}&mh={height}&q=85").replace(/{videoId}/g,this.videoId()).replace(/{width}/g,this.width()).replace(/{height}/g,this.height());this._call(e,t)},preconnect:function(){this._preconnect("https://player.vimeo.com"),this._preconnect("https://i.vimeocdn.com"),this._preconnect("https://f.vimeocdn.com"),this._preconnect("https://fresnel.vimeocdn.com")}});window.addEventListener("DOMContentLoaded",function(e){var t=document.documentElement,a=t.matches('[data-op3-support~="webp"]'),d=t.matches('[data-op3-support~="avif"]'),o="undefined"!=typeof OP3&&OP3.Settings&&OP3.Settings.lazyLoadAssets&&("native+js"===OP3.Settings.lazyLoadAssets||"js"===OP3.Settings.lazyLoadAssets);document.querySelectorAll("[data-embed-video-facade-src]").forEach(function(e){var t=e.closest(".op3-element"),n=t?t.querySelector(".op3-video-image-overlay"):null;e._embedVideoFacade=new EmbedVideoFacade(e,{srcAttr:"data-embed-video-facade-src",lazyLoad:o,posterElement:n,interactElement:n,canUseWebp:a,canUseAvif:d})})});